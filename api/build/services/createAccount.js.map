{"version":3,"sources":["../../v1/services/createAccount.js"],"names":["accounts","accountsData","CreateAccountService","createAccount","accountData","userData","accountsLength","length","newId","accountNumberGenerator","Math","floor","random","date","Date","createdOn","getDate","getMonth","getFullYear","owner","loggedUser","id","firstName","lastName","email","balance","status","accountNumber","push","patchAccount","accountUpdate","staff","account","type","isAdmin","i","deleteAccount","Account","find","mAccount","splice"],"mappings":"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","sourcesContent":["/* eslint-disable no-param-reassign */\nimport accountsData from '../../dummyJson/accounts';\n\nconst { accounts } = accountsData;\n\nconst CreateAccountService = {\n  createAccount(accountData, userData) {\n    const accountsLength = accounts.length;\n    const newId = accountsLength + 1;\n    const accountNumberGenerator = Math.floor(Math.random() * 1000000000) + 3000000000;\n    const date = new Date();\n    const createdOn = `${date.getDate()}/${date.getMonth() + 1}/${date.getFullYear()}`;\n    const owner = userData.loggedUser.id;\n    const { firstName, lastName, email } = userData.loggedUser;\n    const balance = 0.00;\n    const status = 'active';\n\n    // assign data\n    accountData.id = newId;\n    accountData.firstName = firstName;\n    accountData.lastName = lastName;\n    accountData.email = email;\n    accountData.accountNumber = accountNumberGenerator;\n    accountData.createdOn = createdOn;\n    accountData.owner = owner;\n    accountData.status = status;\n    accountData.balance = balance;\n    accounts.push(accountData);\n    return accountData;\n  },\n  patchAccount(accountNumber, accountUpdate, staff) {\n    let account;\n\n    if (staff.loggedUser.type === 'staff' || staff.loggedUser.isAdmin === true) {\n      // eslint-disable-next-line no-plusplus\n      for (let i = 0; i <= accounts.length - 1; i++) {\n        // eslint-disable-next-line eqeqeq\n        if (accounts[i].accountNumber == accountNumber) {\n          accounts[i].status = accountUpdate.status;\n          account = accounts[i];\n        }\n      }\n    } else {\n      account = 'Sorry you don\\'t have permission to perform this task';\n    }\n    return account;\n  },\n  deleteAccount(accountNumber, staff) {\n    let account;\n\n    if (staff.loggedUser.type === 'staff' || staff.loggedUser.isAdmin === true) {\n      const Account = accounts.find(mAccount => mAccount.accountNumber == accountNumber);\n\n      if (typeof Account !== 'undefined') {\n        accounts.splice(Account.id - 1, 1);\n        account = 'account deleted';\n      } else {\n        account = 'no account found or account has been deleted';\n      }\n    } else {\n      account = 'Sorry you don\\'t have permission to perform this task';\n    }\n    return account;\n  },\n};\n\nexport default CreateAccountService;\n"],"file":"createAccount.js"}