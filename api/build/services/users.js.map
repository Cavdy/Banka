{"version":3,"sources":["../../v1/services/users.js"],"names":["users","dummyUsers","UsersServices","getAllUsers","staff","loggedUser","type","isAdmin","map","user","deleteUser","id","deleteMsg","User","find","splice"],"mappings":";;;;;;;AAAA;;;;IAEQA,K,GAAUC,iB,CAAVD,K;AAER,IAAME,aAAa,GAAG;AACpBC,EAAAA,WADoB,uBACRC,KADQ,EACD;AACjB,QAAIA,KAAK,CAACC,UAAN,CAAiBC,IAAjB,KAA0B,OAA1B,IAAqCF,KAAK,CAACC,UAAN,CAAiBE,OAAjB,KAA6B,IAAtE,EAA4E;AAC1E,aAAOP,KAAK,CAACQ,GAAN,CAAU,UAACC,IAAD,EAAU;AACzB,eAAOA,IAAP;AACD,OAFM,CAAP;AAGD;;AACD,WAAO,8CAAP;AACD,GARmB;AAUpBC,EAAAA,UAVoB,sBAUTC,EAVS,EAULP,KAVK,EAUE;AACpB,QAAIQ,SAAJ;;AACA,QAAIR,KAAK,CAACC,UAAN,CAAiBC,IAAjB,KAA0B,OAA9B,EAAuC;AACrC,UAAMO,IAAI,GAAGb,KAAK,CAACc,IAAN,CAAW,UAAAL,IAAI;AAAA,eAAIA,IAAI,CAACE,EAAL,IAAWA,EAAX,IAAiBF,IAAI,CAACH,IAAL,IAAa,OAAlC;AAAA,OAAf,CAAb;;AACA,UAAI,OAAOO,IAAP,KAAgB,WAApB,EAAiC;AAC/BD,QAAAA,SAAS,GAAG,kCAAZ;AACD,OAFD,MAEO;AACLZ,QAAAA,KAAK,CAACe,MAAN,CAAaF,IAAI,CAACF,EAAL,GAAU,CAAvB,EAA0B,CAA1B;AACAC,QAAAA,SAAS,GAAG,SAAZ;AACD;AACF,KARD,MAQO,IAAIR,KAAK,CAACC,UAAN,CAAiBE,OAAjB,KAA6B,IAAjC,EAAuC;AAC5C,UAAMM,KAAI,GAAGb,KAAK,CAACc,IAAN,CAAW,UAAAL,IAAI;AAAA,eAAIA,IAAI,CAACE,EAAL,IAAWA,EAAf;AAAA,OAAf,CAAb;;AACAX,MAAAA,KAAK,CAACe,MAAN,CAAaF,KAAI,CAACF,EAAL,GAAU,CAAvB,EAA0B,CAA1B;AACD,KAHM,MAGA;AACLC,MAAAA,SAAS,GAAG,4CAAZ;AACD;;AACD,WAAOA,SAAP;AACD;AA3BmB,CAAtB;eA8BeV,a","sourcesContent":["import dummyUsers from '../dummyJson/users';\n\nconst { users } = dummyUsers;\n\nconst UsersServices = {\n  getAllUsers(staff) {\n    if (staff.loggedUser.type === 'staff' || staff.loggedUser.isAdmin === true) {\n      return users.map((user) => {\n        return user;\n      });\n    }\n    return 'You don\\'t have permission to view this page';\n  },\n\n  deleteUser(id, staff) {\n    let deleteMsg;\n    if (staff.loggedUser.type === 'staff') {\n      const User = users.find(user => user.id == id && user.type != 'staff');\n      if (typeof User === 'undefined') {\n        deleteMsg = 'Sorry you can not delete a staff';\n      } else {\n        users.splice(User.id - 1, 1);\n        deleteMsg = 'deleted';\n      }\n    } else if (staff.loggedUser.isAdmin === true) {\n      const User = users.find(user => user.id == id);\n      users.splice(User.id - 1, 1);\n    } else {\n      deleteMsg = 'You don\\'t have permission to do this task';\n    }\n    return deleteMsg;\n  },\n};\n\nexport default UsersServices;\n"],"file":"users.js"}