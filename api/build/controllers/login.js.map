{"version":3,"sources":["../../v1/controllers/login.js"],"names":["LoginController","loginUser","req","res","userData","body","loggedUser","LoginService","jwt","sign","err","token","console","log","json","status","data"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEA,IAAMA,eAAe,GAAG;AACtBC,EAAAA,SADsB,qBACZC,GADY,EACPC,GADO,EACF;AAClB,QAAMC,QAAQ,GAAGF,GAAG,CAACG,IAArB;;AACA,QAAMC,UAAU,GAAGC,kBAAaN,SAAb,CAAuBG,QAAvB,CAAnB;;AAEA,WAAOI,yBAAIC,IAAJ,CAAS;AAAEH,MAAAA,UAAU,EAAVA;AAAF,KAAT,EAAyB,MAAzB,EAAiC,UAACI,GAAD,EAAMC,KAAN,EAAgB;AACtD,UAAID,GAAJ,EAAS;AAAEE,QAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AAAmB;;AAC9B,UAAIJ,UAAU,CAAC,CAAD,CAAV,KAAkB,gBAAlB,IAAsCA,UAAU,CAAC,CAAD,CAAV,KAAkB,uBAA5D,EAAqF;AACnFH,QAAAA,GAAG,CAACW,IAAJ,CAAS;AACPC,UAAAA,MAAM,EAAE,OADD;AAEPC,UAAAA,IAAI,EAAE;AAFC,SAAT;AAID,OALD,MAKO;AACLb,QAAAA,GAAG,CAACW,IAAJ,CAAS;AACPC,UAAAA,MAAM,EAAE,SADD;AAEPC,UAAAA,IAAI,EAAE;AACJV,YAAAA,UAAU,EAAVA,UADI;AAEJK,YAAAA,KAAK,EAALA;AAFI;AAFC,SAAT,EAMGI,MANH,CAMU,GANV;AAOD;AACF,KAhBM,CAAP;AAiBD;AAtBqB,CAAxB;eAyBef,e","sourcesContent":["import jwt from 'jsonwebtoken';\nimport LoginService from '../services/login';\n\nconst LoginController = {\n  loginUser(req, res) {\n    const userData = req.body;\n    const loggedUser = LoginService.loginUser(userData);\n\n    return jwt.sign({ loggedUser }, '5634', (err, token) => {\n      if (err) { console.log(err); }\n      if (loggedUser[0] === 'Invalid format' || loggedUser[0] === 'incorrect credentials') {\n        res.json({\n          status: 'error',\n          data: 'incorrect data',\n        });\n      } else {\n        res.json({\n          status: 'success',\n          data: {\n            loggedUser,\n            token,\n          },\n        }).status(201);\n      }\n    });\n  },\n};\n\nexport default LoginController;\n"],"file":"login.js"}