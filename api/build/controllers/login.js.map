{"version":3,"sources":["../../v1/controllers/login.js"],"names":["LoginController","loginUser","req","res","userData","body","loggedUser","LoginService","jwt","sign","err","token","console","log","json","status","data"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEA,IAAMA,eAAe,GAAG;AACtBC,EAAAA,SADsB,qBACZC,GADY,EACPC,GADO,EACF;AAClB,QAAMC,QAAQ,GAAGF,GAAG,CAACG,IAArB;;AACA,QAAMC,UAAU,GAAGC,kBAAaN,SAAb,CAAuBG,QAAvB,CAAnB;;AAEA,WAAOI,yBAAIC,IAAJ,CAAS;AAAEH,MAAAA,UAAU,EAAVA;AAAF,KAAT,EAAyB,MAAzB,EAAiC,UAACI,GAAD,EAAMC,KAAN,EAAgB;AACtD,UAAID,GAAJ,EAAS;AAAEE,QAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AAAmB;;AAC9B,UAAIJ,UAAU,CAAC,CAAD,CAAV,KAAkB,gBAAlB,IAAsCA,UAAU,CAAC,CAAD,CAAV,KAAkB,uBAA5D,EAAqF;AACnFH,QAAAA,GAAG,CAACW,IAAJ,CAAS;AACPC,UAAAA,MAAM,EAAE,OADD;AAEPC,UAAAA,IAAI,EAAE;AAFC,SAAT;AAID,OALD,MAKO;AACLb,QAAAA,GAAG,CAACW,IAAJ,CAAS;AACPC,UAAAA,MAAM,EAAE,SADD;AAEPC,UAAAA,IAAI,EAAE;AACJV,YAAAA,UAAU,EAAVA,UADI;AAEJK,YAAAA,KAAK,EAALA;AAFI;AAFC,SAAT,EAMGI,MANH,CAMU,GANV;AAOD;AACF,KAhBM,CAAP;AAiBD;AAtBqB,CAAxB;eAyBef,e","sourcesContent":["import jwt from 'jsonwebtoken';\r\nimport LoginService from '../services/login';\r\n\r\nconst LoginController = {\r\n  loginUser(req, res) {\r\n    const userData = req.body;\r\n    const loggedUser = LoginService.loginUser(userData);\r\n\r\n    return jwt.sign({ loggedUser }, '5634', (err, token) => {\r\n      if (err) { console.log(err); }\r\n      if (loggedUser[0] === 'Invalid format' || loggedUser[0] === 'incorrect credentials') {\r\n        res.json({\r\n          status: 'error',\r\n          data: 'incorrect data',\r\n        });\r\n      } else {\r\n        res.json({\r\n          status: 'success',\r\n          data: {\r\n            loggedUser,\r\n            token,\r\n          },\r\n        }).status(201);\r\n      }\r\n    });\r\n  },\r\n};\r\n\r\nexport default LoginController;\r\n"],"file":"login.js"}