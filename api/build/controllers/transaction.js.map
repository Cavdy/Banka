{"version":3,"sources":["../../v1/controllers/transaction.js"],"names":["TransactionController","debitTransaction","req","res","accountNumber","params","transactionData","body","jwt","verify","token","err","authorizedData","sendStatus","debitedData","TransactionService","json","status","data","creditTransaction","creditedData"],"mappings":";;;;;;;AACA;;AACA;;;;AAFA;AAIA,IAAMA,qBAAqB,GAAG;AAC5BC,EAAAA,gBAD4B,4BACXC,GADW,EACNC,GADM,EACD;AAAA,QACjBC,aADiB,GACCF,GAAG,CAACG,MADL,CACjBD,aADiB;AAEzB,QAAME,eAAe,GAAGJ,GAAG,CAACK,IAA5B,CAFyB,CAGzB;;AACAC,6BAAIC,MAAJ,CAAWP,GAAG,CAACQ,KAAf,EAAsB,MAAtB,EAA8B,UAACC,GAAD,EAAMC,cAAN,EAAyB;AACrD,UAAID,GAAJ,EAAS;AACPR,QAAAA,GAAG,CAACU,UAAJ,CAAe,GAAf;AACD,OAFD,MAEO;AACL,YAAMC,WAAW,GAAGC,wBACjBd,gBADiB,CACAG,aADA,EACeQ,cADf,EAC+BN,eAD/B,CAApB;;AAEA,eAAOH,GAAG,CAACa,IAAJ,CAAS;AACdC,UAAAA,MAAM,EAAE,SADM;AAEdC,UAAAA,IAAI,EAAEJ;AAFQ,SAAT,EAGJG,MAHI,CAGG,GAHH,CAAP;AAID;AACF,KAXD;AAYD,GAjB2B;AAkB5BE,EAAAA,iBAlB4B,6BAkBVjB,GAlBU,EAkBLC,GAlBK,EAkBA;AAAA,QAClBC,aADkB,GACAF,GAAG,CAACG,MADJ,CAClBD,aADkB;AAE1B,QAAME,eAAe,GAAGJ,GAAG,CAACK,IAA5B,CAF0B,CAG1B;;AACAC,6BAAIC,MAAJ,CAAWP,GAAG,CAACQ,KAAf,EAAsB,MAAtB,EAA8B,UAACC,GAAD,EAAMC,cAAN,EAAyB;AACrD,UAAID,GAAJ,EAAS;AACPR,QAAAA,GAAG,CAACU,UAAJ,CAAe,GAAf;AACD,OAFD,MAEO;AACL,YAAMO,YAAY,GAAGL,wBAClBI,iBADkB,CACAf,aADA,EACeQ,cADf,EAC+BN,eAD/B,CAArB;;AAEA,eAAOH,GAAG,CAACa,IAAJ,CAAS;AACdC,UAAAA,MAAM,EAAE,SADM;AAEdC,UAAAA,IAAI,EAAEE;AAFQ,SAAT,EAGJH,MAHI,CAGG,GAHH,CAAP;AAID;AACF,KAXD;AAYD;AAlC2B,CAA9B;eAqCejB,qB","sourcesContent":["/* eslint-disable consistent-return */\r\nimport jwt from 'jsonwebtoken';\r\nimport TransactionService from '../services/transaction';\r\n\r\nconst TransactionController = {\r\n  debitTransaction(req, res) {\r\n    const { accountNumber } = req.params;\r\n    const transactionData = req.body;\r\n    // verify jwt token\r\n    jwt.verify(req.token, '5634', (err, authorizedData) => {\r\n      if (err) {\r\n        res.sendStatus(403);\r\n      } else {\r\n        const debitedData = TransactionService\r\n          .debitTransaction(accountNumber, authorizedData, transactionData);\r\n        return res.json({\r\n          status: 'success',\r\n          data: debitedData,\r\n        }).status(201);\r\n      }\r\n    });\r\n  },\r\n  creditTransaction(req, res) {\r\n    const { accountNumber } = req.params;\r\n    const transactionData = req.body;\r\n    // verify jwt token\r\n    jwt.verify(req.token, '5634', (err, authorizedData) => {\r\n      if (err) {\r\n        res.sendStatus(403);\r\n      } else {\r\n        const creditedData = TransactionService\r\n          .creditTransaction(accountNumber, authorizedData, transactionData);\r\n        return res.json({\r\n          status: 'success',\r\n          data: creditedData,\r\n        }).status(201);\r\n      }\r\n    });\r\n  },\r\n};\r\n\r\nexport default TransactionController;\r\n"],"file":"transaction.js"}