{"version":3,"sources":["../../v1/controllers/createAccount.js"],"names":["CreateAccountController","createAccount","req","res","accountData","body","jwt","verify","token","err","authorizedData","sendStatus","createdAccount","CreateAccountService","json","status","data","patchAccount","accountNumber","params","accountStatus","updatedAccount","deleteAccount"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEA,IAAMA,uBAAuB,GAAG;AAC9BC,EAAAA,aAD8B,yBAChBC,GADgB,EACXC,GADW,EACN;AACtB,QAAMC,WAAW,GAAGF,GAAG,CAACG,IAAxB,CADsB,CAEtB;;AACAC,6BAAIC,MAAJ,CAAWL,GAAG,CAACM,KAAf,EAAsB,MAAtB,EAA8B,UAACC,GAAD,EAAMC,cAAN,EAAyB;AACrD,UAAID,GAAJ,EAAS;AACPN,QAAAA,GAAG,CAACQ,UAAJ,CAAe,GAAf;AACD,OAFD,MAEO;AACL,YAAMC,cAAc,GAAGC,0BAAqBZ,aAArB,CAAmCG,WAAnC,EAAgDM,cAAhD,CAAvB;;AACA,eAAOP,GAAG,CAACW,IAAJ,CAAS;AACdC,UAAAA,MAAM,EAAE,SADM;AAEdC,UAAAA,IAAI,EAAEJ;AAFQ,SAAT,EAGJG,MAHI,CAGG,GAHH,CAAP;AAID;AACF,KAVD;AAWD,GAf6B;AAgB9B;AACAE,EAAAA,YAjB8B,wBAiBjBf,GAjBiB,EAiBZC,GAjBY,EAiBP;AAAA,QACbe,aADa,GACKhB,GAAG,CAACiB,MADT,CACbD,aADa;AAErB,QAAME,aAAa,GAAGlB,GAAG,CAACG,IAA1B;;AACA,QAAMgB,cAAc,GAAGR,0BAAqBI,YAArB,CAAkCC,aAAlC,EAAiDE,aAAjD,CAAvB;;AACA,WAAOjB,GAAG,CAACW,IAAJ,CAAS;AACdC,MAAAA,MAAM,EAAE,SADM;AAEdC,MAAAA,IAAI,EAAEK;AAFQ,KAAT,EAGJN,MAHI,CAGG,GAHH,CAAP;AAID,GAzB6B;AA0B9B;AACAO,EAAAA,aA3B8B,yBA2BhBpB,GA3BgB,EA2BXC,GA3BW,EA2BN;AAAA,QACde,aADc,GACIhB,GAAG,CAACiB,MADR,CACdD,aADc;;AAEtB,QAAMI,aAAa,GAAGT,0BAAqBS,aAArB,CAAmCJ,aAAnC,CAAtB;;AACA,WAAOf,GAAG,CAACW,IAAJ,CAAS;AACdC,MAAAA,MAAM,EAAE,SADM;AAEdC,MAAAA,IAAI,EAAEM;AAFQ,KAAT,EAGJP,MAHI,CAGG,GAHH,CAAP;AAID;AAlC6B,CAAhC;eAqCef,uB","sourcesContent":["import jwt from 'jsonwebtoken';\nimport CreateAccountService from '../services/createAccount';\n\nconst CreateAccountController = {\n  createAccount(req, res) {\n    const accountData = req.body;\n    // verify jwt token\n    jwt.verify(req.token, '5634', (err, authorizedData) => {\n      if (err) {\n        res.sendStatus(403);\n      } else {\n        const createdAccount = CreateAccountService.createAccount(accountData, authorizedData);\n        return res.json({\n          status: 'success',\n          data: createdAccount,\n        }).status(201);\n      }\n    });\n  },\n  // patchAccount\n  patchAccount(req, res) {\n    const { accountNumber } = req.params;\n    const accountStatus = req.body;\n    const updatedAccount = CreateAccountService.patchAccount(accountNumber, accountStatus);\n    return res.json({\n      status: 'success',\n      data: updatedAccount,\n    }).status(201);\n  },\n  // deleteAccount\n  deleteAccount(req, res) {\n    const { accountNumber } = req.params;\n    const deleteAccount = CreateAccountService.deleteAccount(accountNumber);\n    return res.json({\n      status: 'success',\n      data: deleteAccount,\n    }).status(200);\n  },\n};\n\nexport default CreateAccountController;\n"],"file":"createAccount.js"}